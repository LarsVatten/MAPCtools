% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/export-DataPreprocessing.R
\name{as.APC.NA.df}
\alias{as.APC.NA.df}
\title{Create NA structure across age, period and cohort groups based on strata}
\usage{
as.APC.NA.df(
  df,
  stratify_var,
  age_col = "age",
  period_col = "period",
  cohort_col = "cohort",
  include.random = FALSE
)
}
\arguments{
\item{df}{Data frame with age, period, cohort, and stratification columns.}

\item{stratify_var}{Name of the stratification variable column. This column
will be used to create the stratum-specific NA structure. It should ideally
be a factor or character vector. \strong{This argument is required.}}

\item{age_col}{Name of the age column (must be numeric/integer).
\strong{Defaults to "age".}}

\item{period_col}{Name of the period column (must be numeric/integer).
\strong{Defaults to "period".}}

\item{cohort_col}{Name of the cohort column (must be numeric/integer).
\strong{Defaults to "cohort".}}

\item{include.random}{Logical. Whether to include a unique index ('random')
for each combination of age, period, and stratum, potentially for use as
random effect identifiers in models. \strong{Defaults to FALSE.}}
}
\value{
A data frame containing the original \code{age_col}, \code{period_col},
\code{cohort_col}, and \code{stratify_var} columns, plus:
\itemize{
\item Dummy indicator columns for each level of \code{stratify_var} (e.g., \code{Region_North}, \code{Region_South}).
\item Stratum-specific age, period, and cohort columns (e.g., \code{age_Region_North},
\code{period_Region_North}, \code{cohort_Region_North}), containing the respective
value if the row belongs to that stratum, and \code{NA} otherwise.
\item If \code{include.random = TRUE}, a 'random' column with unique integer indices.
The rows are ordered primarily by the stratification variable levels.
}
}
\description{
Creates a data frame where age, period, and cohort values are placed into
columns specific to their stratum (defined by \code{stratify_var}), with other
strata combinations marked as NA. This structure is often useful for
specific modeling approaches, like certain Age-Period-Cohort (APC) models.
Optionally includes unique indices for random effects.
}
